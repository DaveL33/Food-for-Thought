(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(85)},45:function(e,t,a){},48:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),c=a.n(o),s=(a(45),a(4)),i=a(5),l=a(7),u=a(6),h=a(8),m=(a(47),a(48),a(87)),d=a(88),p=a(89),f=(a(50),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this))).handle=function(e){a.setState(e),a.setState({introComp:!0,categoryComp:!1})},a.chosen=function(e){a.setState(e),a.setState({introComp:!0,categoryComp:!0,restaurantsComp:!1,resultsComp:!0})},a.chosenRestaurants=function(e){a.setState(e),a.setState({introComp:!0,categoryComp:!0,restaurantsComp:!0,resultsComp:!1})},a.handlePrice=function(e){a.setState({price:e.price}),console.log("money"),console.log(a.state)},a.state={cityName:"",category:[],introComp:!1,categoryComp:!0,restaurantsComp:!0,resultsComp:!0,categoryID:[],price:0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bodyContainer"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{"aria-label":"title"},"Food for Thought"),r.a.createElement(y,{active:this.state.introComp,priceRange:this.handlePrice,data:this.handle}),r.a.createElement(v,{idChosen:this.chosen,data:this.state,active:this.state.categoryComp}),r.a.createElement(C,{restaurantsChosen:this.chosenRestaurants,active:this.state.restaurantsComp,data:this.state}),r.a.createElement(E,{data:this.state,active:this.state.resultsComp})))}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this))).handleChange=function(e){var t=e.target;a.setState({cityName:t.value}),console.log(a.state)},a.fetchData=function(){a.fetchCityData()},a.handlePrice=function(e){a.setState({price:e.price}),a.props.priceRange(a.state)},a.state={cityName:"",category:[],cityID:null,price:0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"fetchCityData",value:function(){var e=this,t=this.state.cityName;if(t.length>0)return fetch("https://developers.zomato.com/api/v2.1/locations?query="+t,{method:"GET",headers:{"Content-Type":"application/json","user-key":"d0325b0e365e86fe688a11fe58eaf786"}}).then(function(e){return e.json()}).then(function(t){var a=t.location_suggestions[0].entity_id;e.setState({cityID:a}),e.fetchCuisine(a)}).catch(function(e){console.error(e)})}},{key:"fetchCuisine",value:function(e){var t=this;return fetch("https://developers.zomato.com/api/v2.1/cuisines?city_id="+e,{method:"GET",headers:{"Content-Type":"application/json","user-key":"d0325b0e365e86fe688a11fe58eaf786"}}).then(function(e){return e.json()}).then(function(e){for(var a=[],n=0;n<e.cuisines.length;n++){var r={name:e.cuisines[n].cuisine.cuisine_name,id:e.cuisines[n].cuisine.cuisine_id};a.push(r)}return t.setState({category:a}),t.props.data(t.state),e}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return r.a.createElement("div",{hidden:this.props.active,className:"introContainer"},r.a.createElement("div",{className:"introContent"},r.a.createElement("h5",{"aria-label":"description"},r.a.createElement("strong",null,"Food for Thoughts")," is an app that helps users decide what restaurant to eat at."),r.a.createElement("p",{"aria-label":"direction"},"Input your city name below to get started!")),r.a.createElement("div",{className:"zipMoney"},r.a.createElement("div",{className:"zipCode"},r.a.createElement("input",{"aria-label":"input",placeholder:"Enter city name",onChange:this.handleChange,type:"textarea"}),r.a.createElement("label",null,"City Name"))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{onClick:this.fetchData,className:"arrowSubmit"},">>>")))}}]),t}(n.Component),v=(n.Component,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this))).handle=function(e){a.state.categoryID.push(e),console.log("donut"),console.log(a.state),a.props.idChosen(a.state)},a.state={categoryID:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.data;return console.log(e),r.a.createElement("div",{className:"categoryContainer",hidden:this.props.active},r.a.createElement("div",null,r.a.createElement("h5",{"aria-label":"description"},"To fetch accurate restaurants that match your cravings, we'll need you to answer a few questions."),r.a.createElement("p",{"aria-label":"direction"},"Select your preferred category below.")),r.a.createElement(b,{catID:this.handle,data:e}))}}]),t}(n.Component)),g=function(e){function t(e){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props.category;return void 0!=t.address&&(e=r.a.createElement("div",{className:"info"},r.a.createElement("h6",null,t.address),r.a.createElement("h6",null,t.rating),r.a.createElement("h6",null,t.price))),r.a.createElement("div",{"aria-label":"choice",onClick:this.props.onClick,"data-key":t.id,className:"categoryCard"},r.a.createElement("h5",{className:"categoryName"},t.name),e)}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this))).chosen=function(e){var t=e.target.getAttribute("data-key");a.state.categoryIDs.push(t)},a.send=function(){console.log("sent"),console.log(a.state.categoryIDs),a.props.catID(a.state.categoryIDs)},a.state={categoryIDs:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.data.category;console.log(e);var t=e.map(function(e){return r.a.createElement(m.a,{xs:12,md:3},r.a.createElement(g,{category:e}))});return r.a.createElement("div",null,r.a.createElement("div",{"aria-label":"submit",onClick:this.send,className:"arrowSubmit"},">>>"),r.a.createElement("div",{onClick:this.chosen},r.a.createElement(d.a,null,r.a.createElement(p.a,null)),t))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this))).handleClick=function(e){console.log(e),console.log(e.currentTarget),e.target.style.backgroundColor="#f39c12",a.state.eliminated.push(e.currentTarget.getAttribute("data-key"))},a.send=function(){a.props.restaurantsChosen(a.state)},a.state={restaurants:null,eliminated:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"fetchRestaurants",value:function(e,t,a){var n=this;if(void 0!=e&&e.length>0){for(var o=e[0],c=1;c<e.length;c++)o+="%2C%20"+e[c];return fetch("https://developers.zomato.com/api/v2.1/search?entity_id="+t+"&entity_type=city&cuisines="+o+"&order=asc",{method:"GET",headers:{"Content-Type":"application/json","user-key":"d0325b0e365e86fe688a11fe58eaf786"}}).then(function(e){return e.json()}).then(function(e){var t=e.restaurants.map(function(e){var t=e.restaurant,a={name:t.name,id:t.id,address:t.location.address,price:t.price_range,rating:t.user_rating.rating_text};return r.a.createElement(m.a,{xs:12,md:3},r.a.createElement(g,{onClick:n.handleClick,category:a}))});return n.setState({restaurants:t}),t}).catch(function(e){console.error(e)})}}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this.props.data,a=t.categoryID,n=t.price,o=this.props.data.cityID;return this.fetchRestaurants(a[0],o,n),null!=this.state.restaurants&&(e=this.state.restaurants),r.a.createElement("div",{className:"restaurantContainer",hidden:this.props.active},r.a.createElement("div",null,r.a.createElement("h5",{"aria-label":"description"},"To fetch accurate restaurants that match your cravings, we'll need you to answer a few questions."),r.a.createElement("p",{"aria-label":"direction"},"Eliminate two restaurants from below.")),r.a.createElement(p.a,null,e),r.a.createElement(p.a,null,r.a.createElement("div",{"aria-label":"submit",onClick:this.send,className:"arrowSubmit"},">>>")))}}]),t}(n.Component),E=function(e){function t(e){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props.data;if(console.log(t),void 0!=t.restaurants){var a=t.eliminated,n=t.restaurants.filter(function(e){var t=e.props.children.props.category.id;return 0==a.includes(t)}),o=Math.floor(Math.random()*n.length);console.log("carrot"),console.log(n[o]),console.log(n[o].props),e=r.a.createElement("div",null,r.a.createElement("h6",null,"Based off your preferences, this is the most ideal restaurant for you!"),r.a.createElement(g,{category:n[o].props.children.props.category}))}return r.a.createElement("div",{"aria-label":"result",className:"resultContent"},e)}}]),t}(n.Component),j=f;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,2,1]]]);
//# sourceMappingURL=main.93ff1f2e.chunk.js.map